---
- hosts: localhost
  gather_facts: no

  tasks:
  - name: GetFolders
    vars:
      passwordstate_apicall: folders
    include_role:
        name: ansible-role-passwordstate
  - debug:
      var=folders.json
      verbosity=1

  - name: GetFolder
    vars:
      passwordstate_apicall: folders
      passwordstate_params:
        - key: 'FolderName'
          value: 'API Folder 1'
        - key: 'Description'
          value: 'Test'
    include_role:
        name: ansible-role-passwordstate
  - debug:
      var=folders.json
      verbosity=1

  - name: GeneratePassword
    vars:
      passwordstate_apicall: generatepassword
    include_role:
        name: ansible-role-passwordstate
  - debug:
      var=generatepassword.json
      verbosity=1

  - name: GeneratePassword
    vars:
      passwordstate_apicall: generatepassword
      passwordstate_params:
        - key: 'PasswordGeneratorID'
          value: '2'
    include_role:
        name: ansible-role-passwordstate
  - debug:
      var=generatepassword.json
      verbosity=1
